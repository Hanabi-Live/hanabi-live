/*
  Local Google Fonts
  From: https://google-webfonts-helper.herokuapp.com/
*/

/* source-sans-pro-300 - latin_greek_cyrillic */
@font-face {
  font-family: 'Source Sans Pro';
  font-style: normal;
  font-weight: 300;
  src: local(''),
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-300.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-300.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}
/* source-sans-pro-300italic - latin_greek_cyrillic */
@font-face {
  font-family: 'Source Sans Pro';
  font-style: italic;
  font-weight: 300;
  src: local(''),
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-300italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-300italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}
/* source-sans-pro-italic - latin_greek_cyrillic */
@font-face {
  font-family: 'Source Sans Pro';
  font-style: italic;
  font-weight: 400;
  src: local(''),
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}
/* source-sans-pro-regular - latin_greek_cyrillic */
@font-face {
  font-family: 'Source Sans Pro';
  font-style: normal;
  font-weight: 400;
  src: local(''),
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-regular.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */
       url('/public/webfonts/source-sans-pro-v14-latin_greek_cyrillic-regular.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */
}

/*
  Font Awesome 5 fixes
*/

input[type="checkbox"] + label:before,
input[type="radio"] + label:before,
.icon:before,
#navButton .toggle:before {
  font-family: "Font Awesome 5 Free";
}

/*
  Alpha edits
*/

#header a {
  cursor: pointer;
}

#main > header p {
  border-top: 0;
  margin-top: 0;
}

.button {
  /* Disable the ugly black border that appears when we click on a button */
  outline: none;
}

.button.icon {
  /* Center the button around the icon and the text, instead of just the text */
  padding-right: 1.35em;
}

.row {
  border-bottom: 0;
}

a {
  /* The default link style is a dotted bottom border, which is quite ugly */
  border-bottom: 0;
  text-decoration: underline;
  color: blue;
}

.name-me {
  color: #e69500;
}

.friend {
  color: hotpink;
}

/*
  Common
*/

html,
body,
#page-wrapper {
  height: 100%;
}

body {
  background-color: #00420f;
  background-image: url(../img/dark-wood.png);
  background-repeat: repeat;
  background-attachment: fixed;
}

table td {
  /* In Chrome, middle is default, but in Firefox, bottom is default */
  vertical-align: middle;
}

/*
  The "align-center" class will do horizontal centering (in "alpha.css")
  The "align-center-v" class will do vertical centering
*/
.align-center-v {
  display: flex;
  align-items: center;
  justify-content: center;
}

.hidden {
  display: none;
}

.margin0 {
  margin: 0 !important;
}

.margin1 {
  margin-bottom: 1em;
}

.margin3 {
  margin-bottom: 3em;
}

.padding0 {
  padding: 0 !important;
}

.padding0p5 {
  padding-bottom: 0.5em;
}

.padding0p75 {
  padding-bottom: 0.75em;
}

.padding-top1 {
  padding-top: 1em !important;
}

.padding-top1p5 {
  padding-top: 1.5em !important;
}

.padding-right1 {
  padding-right: 1em;
}

.slim-table {
  margin-bottom: 0.5em;
}

.slim-table td {
  padding: 0.25em 0.25em; /* vanilla is 0.75em 0.75em */
}

/* For text input labels */
.input-text {
  position: relative;
  top: 1em;
}

/* For text input labels with 2 lines */
.input-text2 {
  position: relative;
  top: 0.5em;
}

/* For checkbox labels */
.label-text {
  position: relative;
  top: 0.25em;
}

/*
  For inserting elements without changing the surrounding formatting
  https://stackoverflow.com/questions/6040005/relatively-position-an-element-without-it-taking-up-space-in-document-flow
*/
.relative-container {
  position: relative;
  width: 0;
  height: 0;
}

/*
  Title
*/

#title-text {
  color: white;
  position: relative;
  top: 0.1em;
}

#title-sub {
  color: #f2f2f2 !important;
}

#title-sub strong {
  color: white !important;
}

.login-icon {
  position: relative;
  top: 0.275em;
  right: 0.5em;
}

#login-ajax {
  height: 3em;
}

/* Based on the Bootstrap alert color */
#login-alert {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
  padding: 15px;
  margin-bottom: 1em;
  border: 1px solid transparent;
  border-radius: 4px;
}

.login-text {
  color: #f2f2f2;
  text-align: center;
}

#title-discord {
  width: 5em;
}

/*
  Nav (the top bar)
*/
.nav-icon {
  position: relative;
  top: 0.05em;
  margin-right: 0.3em;
}

.nav-hotkey-indicator {
  border-bottom: 1px solid #999;
}

.help-button {
  background-color: rgb(68, 150, 68) !important;
}

.help-button:hover {
  background-color: #84c884 !important;
}

/*
  Lobby
*/

#lobby {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  /* Left and right margins are handled on the rows in "alpha.css" */
  height: calc(100% - 3em); /* The header is 3em */
}

#lobby > div > div {
  height: 100%;
}

#lobby > div > div > section {
  padding: 1.5em;
  margin-bottom: 0;
  height: 100%;
}

.lobby-half {
  height: calc((100% - 1.5em) / 2);
}

#lobby-separator {
  height: 1.5em;
}

.lobby-full {
  height: 100%;
}

.lobby-table-container {
  overflow-y: auto;
  height: 100%;
}

.lobby-button-icon {
  font-size: 1.5em;
  position: relative;
  top: 0.22em;
}

.lobby-title {
  /* We want to make h3 elements a bit smaller */
  font-size: 1.3em;
}

/*
  Row overlay div
*/
.overlay {
  display: none;
  position: absolute;
  z-index: 999;
  opacity: 0.1;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  background-color: black;
}

/*
  The list of ongoing tables / games
*/

#lobby-games-table {
  margin-bottom: 0;
}

.lobby-games-table-joined {
  background-color: #f2f2ff !important;
}
.lobby-games-table-unstarted {
  background-color: #fffff0 !important;
}
.lobby-games-table-unstarted-password {
  background-color: #ffeaea !important;
}
.lobby-games-table-started {
  background-color: #e6ffee !important;
}
.lobby-games-table-replay {
  background-color: #fff0ff !important;
}

.lobby-games-table-joined:hover {
  background-color: #e0e0ff !important;
  cursor: url('/public/img/hover-cursors/play.png') 28 12.5, pointer;
}
.lobby-games-table-unstarted:hover {
  background-color: #ffffe1 !important;
  cursor: url('/public/img/hover-cursors/join.png') 28 12.5, pointer;
}
.lobby-games-table-unstarted-password:hover {
  background-color: #ffd5d5 !important;
  cursor: url('/public/img/hover-cursors/join.png') 28 12.5, pointer;
}
.lobby-games-table-started:hover {
  background-color: #cdffdd !important;
  cursor: url('/public/img/hover-cursors/view.png') 28 12.5, pointer;
}
.lobby-games-table-replay:hover {
  background-color: #ffe1ff !important;
  cursor: url('/public/img/hover-cursors/view.png') 28 12.5, pointer;
}
.lobby-games-table-unstarted.full:hover, .lobby-games-table-unstarted-password.full:hover {
  cursor: url('/public/img/hover-cursors/forbid.png') 28 12.5, pointer;
}


/*
  Lobby chat
*/

.lobby-chat-text-box {
  overflow-y: auto;
  overflow-wrap: break-word;
  border-style: solid !important;
  border-color: #e5e5e5 !important;
  border: 1px;
  margin-bottom: 1em;
  padding: 0 0.5em 0 0.5em;
  height: calc(100% - 3.5em - 2.5em);
  /* (the height of the input box is 3.5em and the height of the "Lobby Chat" text is 2.5em) */
}

.chat-emote {
  height: 1.6em; /* This is derived from how Twitch does it */
}

.istyping {
  font-size: 0.75em;
  position: relative;
  bottom: 0.3em;
}

/*
  User list
*/

#lobby-users-container {
  overflow-y: auto;
  height: calc(100% - 3em); /* The height of the "Online Users" text is 3em */
}

.lobby-users-box-container {
  padding-left: 1.5em !important;
}

#lobby-users-table-tbody a {
  text-decoration-skip-ink: none;
}

/*
  Pregame
*/

.lobby-pregame-container {
  height: 100%;
  display: flex;
}

.lobby-pregame-info {
  font-size: 0.85em;
  width: 200px;
  padding-right: 0.5em;
  overflow-y: auto;
}

.lobby-pregame-players {
  display: flex;
  flex-wrap: wrap;
  flex: 1 1 100%;
  height: 100%;
  overflow-y: auto;
  justify-content: flex-start;
}

.lobby-pregame-player {
  border: 1px solid black;
  border-radius: 5px;
  padding: 0.8em;
  flex: 1 1 160px;
  margin: 0 0.5em 0.5em 0;
  max-width: 300px;
  max-height: calc(100% - 0.5em);
  overflow-y: auto;
}

.lobby-pregame-player-away {
  margin-top: 1em;
  margin-bottom: 0;
}

#lobby-pregame-options {
  padding-left: 1em;
  list-style-type: none;
  padding: 0;
}

#lobby-pregame-options li {
  padding-left: 0;
  display: inline-block;
  margin-right: 0.5em;
}

.lobby-pregame-tooltip {
  font-size: 0.75em;
  width: 8em;
}

.lobby-pregame-tooltip-icon {
  font-size: 0.75em;
}

.lobby-pregame-tooltip > div {
  /* Alpha sets this to -2em, so we have to reset it */
  margin-left: 0em;
  text-align: left;
}

.lobby-pregame-tooltip > div > div {
  padding-left: 0;
}

.lobby-pregame-col {
  width: 13.75%;
}

#lobby-chat-pregame-container {
  /* Make the pre-game chat padding match that of the user list */
  padding-left: 1.5em !important;
}

/*
  Create Game Tooltip
*/

#create-game-tooltip-title {
  width: 11em;
}

#create-game-tooltip > div {
  /* Alpha sets this to -2em, so we have to reset it */
  margin-left: 0em;
  text-align: left;
}

#create-game-tooltip > div > div {
  padding-left: 0;
}

.create-game-icon {
  display: inline-block;
  width: 2em;
  text-align: center;
}

.create-game-info-icon {
  position: relative;
  top: 0.35em;
}

.create-game-text-label {
  /* Annoyingly, the text does not line up with the checkbox */
  position: relative;
  top: 0.25em;
}

#create-game-timed-label {
  /* We need to move the "Timed" label even more */
  position: relative;
  top: 0.75em;
}

#create-game-timed-container {
  /* We need to move this down so that it is centered with the input elements */
  position: relative;
  top: 0.5em;
}

#create-game-submit,
#change-variant-submit {
  font-size: 1em;
}

.question-mark:hover {
  color: #6666ff;
}

input::-webkit-calendar-picker-indicator {
  display: none;
}

#create-game-variant-dropdown2 {
  padding-right: 2.25em;
}

#create-game-variant-dropdown2-icon {
  position: relative;
  right: 1.8em;
  pointer-events: none; /* We want to "click through" this element */
}

#dice {
  color: green;
  position: relative;
  left: 0.2em;
}

#dice:hover {
  color: #00cc00;
  cursor: pointer;
}

/*
  Show History
*/

.lobby-history-table-tooltip-ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.lobby-history-table-tooltip-ul > li {
  padding-left: 0.2em;
  margin-bottom: 0.3em;
}

.lobby-history-table-tooltip-ul > li:last-child {
  margin-bottom: 0;
}

/*
  Watch Specific Replay Tooltip
*/

#replay-tooltip-title {
  width: 13em;
}

#replay-json {
  resize: none;
}

#replay-error-row-text {
  color: red;
}

.replay-radio-container {
  position: absolute;
}

.replay-radio {
  top: 0.6em;
}

.replay-radio-label {
  position: relative;
  top: 0.4em;
}

/*
  Settings
*/

.horizontal {
  margin: 0;
  padding: 0;
}

.horizontal > li {
  vertical-align: center;
  list-style-type: none;
  float: left;
  margin-right: 1em;
}

#settings-volume > li {
  height: 2.25em;
  line-height: 2.25em;
}

#settings-volume-slider {
  position: relative;
  bottom: 0.25em;
  width: 12.5em;
  height: 0.25em;
  background: #ddd;
  border: none;
  border-radius: 3px;
}

/*
  Modals
*/

.modal {
  position: absolute;
  z-index: 1000;
  top: 15%;
  left: 5em;
  right: 5em;
  bottom: 5em;
  overflow: auto;
}

#page-cover {
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: #001805;
  top: 0;
  left: 0;
  z-index: 999;
  opacity: 0;
}

/*
  Game
*/

#game {
  height: 100%;
}

/*
  In-game tooltips
*/

#game-tooltips > div {
  position: absolute;
}

.tooltipster-sidetip.tooltipster-shadow.tooltipster-shadow-big
  .tooltipster-content {
  font-size: 1.5em;
  padding: 0.5em;
  line-height: 1em;
}

.game-tooltips-ul {
  list-style-type: none;
  margin-top: 0.5em;
  margin-bottom: 0;
  text-indent: -0.5em;
}

.game-tooltips-ul > li {
  margin-bottom: 0.1em;
}

.game-tooltips-icon {
  display: inline-block;
  width: 0.5em;
  text-align: center;
}

.game-tooltips-ol {
  margin-top: 0.5em;
  margin-bottom: 0;
  padding-left: 0.9em;
}

/*
  In-game modals
*/

#game-chat-modal {
  position: absolute;
  z-index: 1;
  /* The modal is automatically positioned in the "chat.js" file */
  background-color: black;
  border-radius: 10px; /* This has to match the border-radius below */
  border: 3px solid black;
  touch-action: none;
}

#game-chat-modal-header {
  height: 1.25em;
  text-align: right;
}

#game-chat-modal-header-close {
  cursor: pointer;
  color: white;
  margin-right: 0.3em;
  padding: 0.25em; /* We want some padding so that the activation range is bigger */
  position: relative;
  bottom: 0.3em;
}

#game-chat-modal-white {
  width: calc(100% - 0.3em);
  height: calc(100% - 1.25em - 0.3em);
  /* We have to move it further down because of the header */
  padding: 1em;
  margin: 0;
  position: relative;
  top: 0.05em;
  left: 0.15em;
}

#game-chat-text {
  /*
    The height of the in-game chat text box is bigger than the lobby text boxes
    (e.g. ".lobby-chat-text-box") because there is no title to account for
  */
  height: calc(100% - 4em);
}

/* From: https://codepen.io/ZeroX-DG/pen/vjdoYe */
.resizable .resizers {
  width: 100%;
  height: 100%;
  border: 3px solid black;
  border-radius: 10px; /* This has to match the border-radius above */
  box-sizing: border-box;
}

.efficiency-description {
  display: inline-block;
  width: 12em;
}

.turns-description {
  display: inline-block;
  width: 8em;
}

.container.max {
  width: 80%;
}

/*
  Profile
*/

#filter-players > li {
  height: 3em;
  line-height: 3em;
}

.score-modifier {
  font-size: 0.75em;
}

.green {
  color: green;
}

.red {
  color: red;
}

.profile-tooltip {
  font-size: 0.75em;
}

.stat-description {
  display: inline-block;
  width: 19em;
}

/* Make pregame name and variant appear on next line always */
#lobby-pregame-name, #lobby-pregame-variant {
  display: block;
}



/*
  Media Responsive Utilities
  Breakpoints:
    Alpha names   Max Res   Media names
    Wide:          1680px   xxl
    Normal:        1280px   xl
    Narrow:         980px   lg
    Narrower:       840px   md
    Mobile:         736px   sm
    Portrait:       480px   xs

    hidden-*:      hidden on this and all smaller screens
*/
@media screen and (max-width: 1680px) {
  .hidden-xxl {
    display: none!important;
  }
}
@media screen and (max-width: 1280px) {
  .hidden-xl {
    display: none!important;
  }
}
@media screen and (max-width: 980px) {
  .hidden-lg {
    display: none!important;
  }
}
@media screen and (max-width: 840px) {
  .hidden-md {
    display: none!important;
  }
}
@media screen and (max-width: 736px) {
  .hidden-sm {
    display: none!important;
  }
}
@media screen and (max-width: 480px) {
  .hidden-xs {
    display: none!important;
  }
}

/*
  Media edits
*/
@media screen and (max-width: 1500px) {
  .lobby-pregame-info {
    width: 150px;
  }
  .container.max {
    width: calc(100% - 2em) !important;
  }
}

/* Tighter nav buttons before text disappears */
@media screen and (max-width: 1086px) {
  #header nav > ul > li .button {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }
}

@media screen and (max-width: 980px) {
  .lobby-pregame-player {
    max-width: 200px;
  }
}

/* Hide the logo text */
@media screen and (max-width: 950px) {
  #logo-text {
    display: none;
  }
}

/* Reinstate the containers round box */
@media screen and (max-width: 480px) {
  .box {
    border-radius: 6px;
  }
}

/* Make the pre-game nav bar show only the button icons on smaller resolutions */
@media screen and (max-width: 400px) {
  #nav-buttons-pregame .nav-icon {
    margin-right: 0em;
  }
}

/* Make the history nav bar show only the button icons on smaller resolutions */
@media screen and (max-width: 290px) {
  #nav-buttons-history .nav-icon {
    margin-right: 0em;
  }
}

/* Stack the profile buttons on top of each other if they would go off screen otherwise */
@media screen and (max-width: 840px) {
  #profile-buttons {
    /* These lines are copied from alpha.css which has breakpoint 480 px */
    display: flex;
    flex-wrap: wrap;
    box-sizing: border-box;
    align-items: stretch;
  }

  /* Remove extra space from nav icons */
  .nav-icon {
    margin-right: 0;
  }

  #profile-buttons li {
    padding-top: 1em;
  }

  /* Make the main screen appear the same way, even on smaller resolutions */
  #page-wrapper {
    padding-top: 3em;
  }
}

/* Fix the box margins on smaller resolutions */
@media screen and (max-width: 736px) {
  .container.max {
    width: calc(100% - 2em) !important;
    margin-left: 1em;
    margin-right: 1em;
  }

  .box {
    margin: 0em;
    padding: 1.5em !important;
    overflow-y: hidden;
  }
}

/*
  Tables headers
*/
table th {
  padding: 0 0.75em 0.25em 0.75em;
  font-size: 0.8em;
}

/*
  Media queries for lobby redesign on smaller screens
*/
@media screen and (max-width: 980px) {
  /* make nav items in between space smaller */
  #header nav > ul > li a:not(.button) {
    padding: 0 0.8em;
  }
}
@media screen and (max-width: 840px) {
  /* override alpha.css default behavior */
  #header {
    display: block;
  }

  /* make nav items in between space smaller */
  #header nav > ul > li a:not(.button) {
    padding: 0 0.5em;
  }

  /* hide column '# of Players' */
  #lobby-games-table th:nth-child(2),
  #lobby-games-table td:nth-child(2) {
    display: none;
  }
}
@media screen and (max-width: 670px) {
  /* hide column 'Name' */
  #lobby-games-table th:nth-child(1),
  #lobby-games-table td:nth-child(1) {
    display: none;
  }

  /* fix border of column 'Variant' */
  #lobby-games-table th:nth-child(3),
  #lobby-games-table td:nth-child(3) {
    border-left-width: 1px;
  }
}

@media screen and (max-width: 620px) {
  /* hide column 'Spectators' */
  #lobby-games-table th:nth-child(7),
  #lobby-games-table td:nth-child(7) {
    display: none;
  }
}

@media screen and (max-width: 570px) {
  /* hide 'help' nav menu */
  #header nav > ul > li a#nav-buttons-lobby-stats,
  #header nav > ul > li a#nav-buttons-lobby-resources {
    display: none;
  }
}

@media screen and (max-width: 530px) {
  /* hide column 'Spectators' */
  #lobby-games-table th:nth-child(4),
  #lobby-games-table td:nth-child(4) {
    display: none;
  }
}
@media screen and (max-width: 410px) {
  /* make nav items in between space smaller */
  #header nav > ul > li a:not(.button) {
    padding: 0 0.3em;
  }
  /* hide column 'Status' */
  #lobby-games-table th:nth-child(5),
  #lobby-games-table td:nth-child(5) {
    display: none;
  }
}

/*
  Small screen toggle buttons
*/
#lobby-small-screen-buttons {
  margin-top: 1em;
  height: 2em;
  display: none;
}
#lobby-small-screen-buttons nav > ul {
  display: block;
  list-style: none;
  margin: 0;
  padding-left: 0;
}
#lobby-small-screen-buttons nav > ul li:first-child {
  padding-left: 0;
}

.only-on-narrow-screen {
  display: none;
}

@media screen and (max-height: 530px) {
  /* Put pregame chat boxes side by side */
  #lobby-chat-container.pregame-chat-layout,
  #lobby-chat-pregame-container.pregame-chat-layout,
  #lobby-users-box-container.pregame-chat-layout {
    flex: 1 1 33%;
    height: 100%;
  }
  #lobby-toggle-show-online {
    display: none;
  }
}

@media screen and (max-width: 530px) {
  /* Put pregame chat boxes on top of each other */
  #lobby-chat-container.pregame-chat-layout,
  #lobby-chat-pregame-container.pregame-chat-layout,
  #lobby-users-box-container.pregame-chat-layout {
    flex: 1 1 100%;
    height: calc((100% - 1em) / 2);
  }
  #lobby-chat-pregame-container {
    margin-left: 0.5em!important;
  }
  .narrow-screen-hidden {
    display: none!important;
  }
}

@media screen and (max-height: 530px) and (max-width: 620px) {
  #lobby-toggle-show-online {
    display: inline-block;
  }
}

@media screen and (max-height: 530px), screen and (max-width: 620px) {
  #lobby-top-half,
  #lobby-bottom-half {
    display: none;
    height: calc(100% - 4em);
  }
  #lobby-separator {
    display: none;
  }
  #lobby-top-half.toggle-active {
    display: flex;
  }
  #lobby-bottom-half.toggle-active {
    display: flex;
  }

  #lobby-small-screen-buttons {
    display: block;
  }

  #lobby-top-half.hidden,
  #lobby-bottom-half.hidden,
  #lobby-small-screen-buttons.hidden {
    display: none;
  }

  #lobby {
    height: calc(100% - 1.25em); /* The header is 3em */
  }

  .pregame-hidden {
    display: none;
  }
  .pregame-lobby-chat {
    margin-bottom: 1em;
  }
}

@media screen and (max-width: 620px) {
  #lobby-users-table th:nth-child(2),
  #lobby-users-table td:nth-child(2) {
    display: none;
  }
  #small-screen-toggle-users-h3 {
    display: none;
  }
  .only-on-narrow-screen {
    display: inline;
  }
  .lobby-users-box-container {
    padding-left: 2em!important;
  }
  .narrow-screen-hidden {
    display: none!important;
  }
  .row > #lobby-chat-container {
    width: 100%;
  }
  .row > #lobby-online-users {
    width: 100%;
  }
}

a.toggle-active {
  background-color: rgb(68, 150, 68) !important;
}
